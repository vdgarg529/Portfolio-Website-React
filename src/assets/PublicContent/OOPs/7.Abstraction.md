# Abstraction in C++

## 1. Detailed Notes

### Introduction
- **Abstraction** is the process of **hiding implementation details** and showing only the **essential features** of an object.  
- Focuses on **what an object does**, not **how it does it**.  
- Achieved in C++ mainly through:  
  1. **Abstract Classes** (using pure virtual functions).  
  2. **Interfaces** (abstract base classes with only pure virtual functions).  

---

### Abstract Classes
- A **class containing at least one pure virtual function** is an **abstract class**.  
- Cannot be instantiated directly.  
- Used as a **base class** for derived classes.  

```cpp
class Shape {
public:
    virtual void draw() = 0;  // pure virtual function
};


```



### Pure Virtual Function

- Declared using `= 0` syntax inside base class.
    
- Example:
    
    ```cpp
    virtual void display() = 0;

    ```
    
- Derived classes **must override** pure virtual functions, else they also become abstract.
    

---

### Characteristics of Abstract Classes

- Cannot create objects directly.
    
- Can have constructors and destructors.
    
- Can contain normal functions + data members along with pure virtual functions.
    
- Provide a blueprint for derived classes.
    

---

## 2. Definitions

- **Abstraction:** OOP concept of hiding details and exposing only the necessary features.
    
- **Abstract Class:** A class with at least one pure virtual function.
    
- **Pure Virtual Function:** A function declared in base class but must be overridden in derived class (`= 0`).
    

---

## 3. Key Points to Remember

- Abstract class = **blueprint**, cannot be instantiated.
    
- Pure virtual function forces derived classes to **implement their own version**.
    
- Abstract classes help achieve **runtime polymorphism**.
    
- If derived class doesn’t override all pure virtual functions, it remains abstract.
    

---

## 4. ASCII Concept Map

```
      Abstraction
          |
   +--------------+
   |  Abstract    |
   |  Classes     |
   +--------------+
          |
   +--------------+
   | Pure Virtual |
   |  Functions   |
   +--------------+

```
---

## 5. C++ Implementation

### Abstract Class Example

```cpp
#include <iostream>
using namespace std;

class Shape {
public:
    // Pure virtual function
    virtual void draw() = 0;
};

class Circle : public Shape {
public:
    void draw() override {
        cout << "Drawing Circle\n";
    }
};

class Square : public Shape {
public:
    void draw() override {
        cout << "Drawing Square\n";
    }
};

int main() {
    Shape* s1 = new Circle();
    Shape* s2 = new Square();

    s1->draw();  // Drawing Circle
    s2->draw();  // Drawing Square

    delete s1;
    delete s2;
    return 0;
}
```


---

## 6. Real World Example

- **Abstract Class Example:**
    
    - `Payment` (abstract class) with pure virtual function `processPayment()`.
        
    - Derived classes: `CreditCardPayment`, `UPIPayment`, `PayPalPayment`.
        
    - Each implements `processPayment()` differently.
        
- You can use the **interface (`Payment* p`)** without caring how each payment works internally.
    

---

## 7. Questions with Answers

### Theory

1. **Q:** What is abstraction in C++?  
    **A:** Hiding implementation details while showing only necessary features.
    
2. **Q:** What makes a class abstract?  
    **A:** Having at least one pure virtual function.
    
3. **Q:** Can we create objects of abstract classes?  
    **A:** No, abstract classes cannot be instantiated directly.
    
4. **Q:** Can an abstract class have constructors?  
    **A:** Yes, they can initialize base members.
    
5. **Q:** What happens if derived class does not override pure virtual function?  
    **A:** The derived class also becomes abstract.
    

---

### Coding

6. **Q:** Write a program with abstract class `Animal` and derived classes `Dog` and `Cat`.
    

```cpp
#include <iostream>
using namespace std;

class Animal {
public:
    virtual void sound() = 0;  // pure virtual
};

class Dog : public Animal {
public:
    void sound() override { cout << "Dog barks\n"; }
};

class Cat : public Animal {
public:
    void sound() override { cout << "Cat meows\n"; }
};

int main() {
    Animal* a1 = new Dog();
    Animal* a2 = new Cat();

    a1->sound();
    a2->sound();

    delete a1;
    delete a2;
    return 0;
}
```


---

7. **Q:** Demonstrate an abstract class with both normal and pure virtual functions.
    

```cpp
#include <iostream>
using namespace std;

class Vehicle {
public:
    void fuel() { cout << "Filling fuel\n"; }
    virtual void drive() = 0;  // pure virtual
};

class Car : public Vehicle {
public:
    void drive() override { cout << "Car is driving\n"; }
};

int main() {
    Car c;
    c.fuel();
    c.drive();
    return 0;
}
```


---

8. **Q:** Show how abstraction works with payment system.
    

```cpp
#include <iostream>
using namespace std;

class Payment {
public:
    virtual void processPayment() = 0;  // abstract method
};

class CreditCard : public Payment {
public:
    void processPayment() override {
        cout << "Payment through Credit Card\n";
    }
};

class UPI : public Payment {
public:
    void processPayment() override {
        cout << "Payment through UPI\n";
    }
};

int main() {
    Payment* p = new CreditCard();
    p->processPayment();
    delete p;

    p = new UPI();
    p->processPayment();
    delete p;

    return 0;
}
```


---

9. **Q:** Can an abstract class pointer point to derived class object? Demonstrate.
    

```cpp
#include <iostream>
using namespace std;

class Shape {
public:
    virtual void draw() = 0;
};

class Triangle : public Shape {
public:
    void draw() override { cout << "Drawing Triangle\n"; }
};

int main() {
    Shape* s = new Triangle();
    s->draw();
    delete s;
    return 0;
}
```

**Answer:** Yes, an abstract class pointer can point to derived class objects.

---

10. **Q:** Show that if a derived class does not implement all pure virtual functions, it becomes abstract.
    

```cpp
#include <iostream>
using namespace std;

class Base {
public:
    virtual void fun1() = 0;
    virtual void fun2() = 0;
};

class Derived : public Base {
public:
    void fun1() override { cout << "Implemented fun1\n"; }
    // fun2 not implemented → Derived is still abstract
};

int main() {
    // Derived d; // ❌ Error: cannot instantiate abstract class
    return 0;
}
```


---

## 8. Multiple Choice Questions (MCQs)

1. Abstract classes can be instantiated.  
    a) True  
    b) False  
    **Answer:** b) False
    
2. Pure virtual functions are declared using:  
    a) `virtual void f();`  
    b) `virtual void f() = 0;`  
    c) `void f();`  
    d) `abstract void f();`  
    **Answer:** b) `virtual void f() = 0;`
    
3. Abstract classes in C++ are mainly used for:  
    a) Encapsulation  
    b) Polymorphism  
    c) Memory management  
    d) None  
    **Answer:** b) Polymorphism
    
4. If a derived class does not override all pure virtual functions:  
    a) It becomes abstract  
    b) It compiles normally  
    c) Compiler error occurs only at runtime  
    d) None  
    **Answer:** a) It becomes abstract
    
5. Which of the following can abstract classes contain?  
    a) Data members  
    b) Normal functions  
    c) Constructors and destructors  
    d) All of the above  
    **Answer:** d) All of the above
    
6. Which of these cannot be pure virtual?  
    a) Normal function  
    b) Destructor  
    c) Constructor  
    d) Both b and c  
    **Answer:** c) Constructor
    
7. What does abstraction achieve?  
    a) Hides implementation  
    b) Shows essential details  
    c) Provides blueprint for derived classes  
    d) All of the above  
    **Answer:** d) All of the above
    
8. Which keyword is used to achieve runtime polymorphism in abstract classes?  
    a) static  
    b) virtual  
    c) friend  
    d) private  
    **Answer:** b) virtual
    
9. Which class is instantiated if base class is abstract?  
    a) Base class  
    b) Derived class implementing pure virtual methods  
    c) None  
    d) Both  
    **Answer:** b) Derived class implementing pure virtual methods
    
10. Abstract class provides:  
    a) Implementation only  
    b) Interface only  
    c) Both interface and partial implementation  
    d) None  
    **Answer:** c) Both interface and partial implementation