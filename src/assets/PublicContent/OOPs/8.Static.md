# Static Keyword in C++

## 1. Detailed Notes

### Introduction
The `static` keyword in C++ changes the **lifetime** and **visibility** of variables and functions.  
It can be used in different contexts:

1. **Static Local Variables**  
   - Retain their value **between function calls**.  
   - Initialized only once.  

2. **Static Data Members (Class Level)**  
   - Belong to the **class** instead of any object.  
   - Shared by all objects of the class.  
   - Must be defined **outside** the class.  

3. **Static Member Functions**  
   - Can access only **static data members**.  
   - Invoked using class name (no object needed).  

4. **Static Global Variables / Functions (File Scope)**  
   - Visible only within the file they are declared in (internal linkage).  
   - Prevents name conflicts in multi-file projects.  


![[Pasted image 20250911180608.png]]
![[Pasted image 20250911180632.png]]


---

### Static Local Variable Example
```cpp
void counter() {
    static int count = 0;  // initialized only once
    count++;
    cout << "Count = " << count << endl;
}


```

### Static Data Member Example

```cpp
class Student {
    static int total; // declaration
public:
    Student() { total++; }
    static void showCount() {
        cout << "Total Students: " << total << endl;
    }
};

int Student::total = 0; // definition outside class

```

---

### Static Member Function Example

```cpp
class Demo {
    static int x;
public:
    static void setValue(int val) {
        x = val;
    }
    static void printValue() {
        cout << "Value: " << x << endl;
    }
};
int Demo::x = 0;

```

---

### Static Global Variable (File Scope)

```cpp
// file1.cpp
static int x = 10; // only accessible within this file

```

---

## 2. Definitions

- **Static Local Variable:** A variable inside a function that persists across multiple calls.
    
- **Static Data Member:** A class variable shared by all objects.
    
- **Static Member Function:** A function that can be called without an object and only accesses static members.
    
- **Static Global Variable:** Variable/function with file scope, not accessible outside the file.
    

---

## 3. Key Points to Remember

- Static local variables are initialized only once and persist.
    
- Static data members belong to class, not objects.
    
- Static functions cannot access non-static members.
    
- Static global variables/functions have **file scope**.
    

---

## 4. ASCII Concept Map

```pgsql
Static Keyword
     |
+------------+------------+------------+
| Local Var  | Class Data | Functions  |
| (persist)  | (shared)   | (no obj)   |
+------------+------------+------------+
     |
 File Scope (Global)

```

---

## 5. Real World Example

- **Static Local Variable:** Like a ticket counter machine that remembers the last ticket number.
    
- **Static Data Member:** A school’s total student count — shared across all students.
    
- **Static Member Function:** A utility function like `Math::sqrt()` doesn’t depend on objects.
    
- **Static Global Variable:** Restricting a helper function to be used only in its own file (like private in file scope).
    

---

## 6. Questions with Answers

### Theory

1. **Q:** What is the role of static local variables?  
    **A:** They retain their value between function calls.
    
2. **Q:** Where must static class variables be defined?  
    **A:** Outside the class definition.
    
3. **Q:** Can static member functions access non-static members?  
    **A:** No, they can only access static members.
    
4. **Q:** What is the scope of static global variables?  
    **A:** They have file scope (accessible only within the same file).
    
5. **Q:** When is a static local variable initialized?  
    **A:** Only once, during the first function call.
    

---

### Coding

6. **Q:** Write a program demonstrating static local variables.
    

```cpp
#include <iostream>
using namespace std;

void counter() {
    static int count = 0; // persists between calls
    count++;
    cout << "Count = " << count << endl;
}

int main() {
    counter();
    counter();
    counter();
    return 0;
}
```


---

7. **Q:** Demonstrate static data members in a class.
    

```cpp
#include <iostream>
using namespace std;

class Student {
    static int total;
public:
    Student() { total++; }
    static void showCount() {
        cout << "Total Students: " << total << endl;
    }
};

int Student::total = 0;

int main() {
    Student s1, s2, s3;
    Student::showCount();
    return 0;
}
```


---

8. **Q:** Show static member function usage.
    

```cpp
#include <iostream>
using namespace std;

class Demo {
    static int x;
public:
    static void setValue(int val) {
        x = val;
    }
    static void printValue() {
        cout << "Value = " << x << endl;
    }
};

int Demo::x = 0;

int main() {
    Demo::setValue(42);
    Demo::printValue();
    return 0;
}
```


---

9. **Q:** Show difference between normal and static local variables.
    

```cpp
#include <iostream>
using namespace std;

void test() {
    int a = 0;
    static int b = 0;
    a++; b++;
    cout << "a=" << a << ", b=" << b << endl;
}

int main() {
    test();
    test();
    test();
    return 0;
}
```

**Output:**

```ini
a=1, b=1
a=1, b=2
a=1, b=3
```

---

10. **Q:** Demonstrate static global variable restricted to a file.
    

```cpp
// file1.cpp
#include <iostream>
using namespace std;

static int counter = 0;

void increment() {
    counter++;
    cout << "Counter = " << counter << endl;
}

```

This `counter` cannot be accessed from another file.

---

## 7. Multiple Choice Questions (MCQs)

1. Static local variables are initialized:  
    a) Every time function is called  
    b) Only once  
    c) Never  
    d) At program termination  
    **Answer:** b) Only once
    
2. Static data members are stored in:  
    a) Stack  
    b) Heap  
    c) Class area (global/static memory)  
    d) Object memory  
    **Answer:** c) Class area (global/static memory)
    
3. Static member functions can be called using:  
    a) Object only  
    b) Class name only  
    c) Both object and class name  
    d) None  
    **Answer:** c) Both object and class name
    
4. Which of these can static member functions access?  
    a) Only static data  
    b) Only non-static data  
    c) Both  
    d) None  
    **Answer:** a) Only static data
    
5. Static global variables have:  
    a) Program scope  
    b) Block scope  
    c) File scope  
    d) None  
    **Answer:** c) File scope
    
6. Default value of static local variables is:  
    a) Garbage  
    b) Zero  
    c) NULL  
    d) Undefined  
    **Answer:** b) Zero
    
7. Static data members are shared among:  
    a) Only one object  
    b) All objects of class  
    c) Inherited classes only  
    d) None  
    **Answer:** b) All objects of class
    
8. When is static local variable destroyed?  
    a) When function ends  
    b) When program ends  
    c) When block ends  
    d) Never  
    **Answer:** b) When program ends
    
9. A static function defined inside a file has:  
    a) Global scope  
    b) File scope  
    c) Local scope  
    d) None  
    **Answer:** b) File scope
    
10. Which of the following is true for static keyword?  
    a) Used for persistent local variables  
    b) Used for class-level shared variables  
    c) Used for file scope restriction  
    d) All of the above  
    **Answer:** d) All of the above